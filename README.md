# üé≤ –Ø—Ü–∑–∏ (Yatzy) ‚Äî Telegram Mini App

Multiplayer Yatzy –¥–ª—è –¥–≤—É—Ö –∏–≥—Ä–æ–∫–æ–≤, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫–∞–∫ Telegram Mini App.

## –°—Ç–µ–∫

| –°–ª–æ–π | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|------|-----------|
| Frontend | React + TypeScript + Vite |
| Backend | Node.js + Express + Socket.io |
| –ü—Ä–æ—Ç–æ–∫–æ–ª | WebSocket (real-time) |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | Telegram Web App SDK |

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –°–µ—Ä–≤–µ—Ä
cd server && npm install

# –ö–ª–∏–µ–Ω—Ç  
cd client && npm install
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ

**–°–µ—Ä–≤–µ—Ä** (–ø–æ—Ä—Ç 3001):
```bash
cd server
npm run dev
```

**–ö–ª–∏–µ–Ω—Ç** (–ø–æ—Ä—Ç 5173):
```bash
cd client
npm run dev
```

–û—Ç–∫—Ä–æ–π http://localhost:5173 –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

## –î–µ–ø–ª–æ–π –¥–ª—è Telegram Mini App

### –°–µ—Ä–≤–µ—Ä
–ó–∞–¥–µ–ø–ª–æ–π –Ω–∞ –ª—é–±–æ–π VPS / Railway / Render –∏ –∑–∞–ø–æ–º–Ω–∏ URL (–Ω–∞–ø—Ä–∏–º–µ—Ä `https://yatzy.example.com`).

### –ö–ª–∏–µ–Ω—Ç
1. –û–±–Ω–æ–≤–∏ `VITE_SERVER_URL` –≤ `client/.env`:
   ```
   VITE_SERVER_URL=https://yatzy.example.com
   ```
2. –°–æ–±–µ—Ä–∏:
   ```bash
   cd client && npm run build
   ```
3. –ó–∞–ª–µ–π –ø–∞–ø–∫—É `dist/` –Ω–∞ Vercel / Netlify / Nginx.

### Telegram Bot
1. –°–æ–∑–¥–∞–π –±–æ—Ç–∞ —á–µ—Ä–µ–∑ [@BotFather](https://t.me/BotFather)
2. –í–≤–µ–¥–∏ `/newapp` ‚Üí —É–∫–∞–∂–∏ URL —Ç–≤–æ–µ–≥–æ –∑–∞–¥–µ–ø–ª–æ–µ–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
3. –ü–æ–¥–µ–ª–∏—Å—å —Å—Å—ã–ª–∫–æ–π –Ω–∞ Mini App —Å –¥—Ä—É–≥–æ–º

## –ò–≥—Ä–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞

**–•–æ–¥—ã:** –∫–∞–∂–¥—ã–π –∏–≥—Ä–æ–∫ –±—Ä–æ—Å–∞–µ—Ç –∫—É–±–∏–∫–∏ –¥–æ 3 —Ä–∞–∑ –∑–∞ —Ö–æ–¥, —É–¥–µ—Ä–∂–∏–≤–∞—è –Ω—É–∂–Ω—ã–µ.  
**–û—á–∫–∏:** –≤—ã–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –¥–ª—è –∑–∞–ø–∏—Å–∏ –æ—á–∫–æ–≤ –ø–æ—Å–ª–µ –±—Ä–æ—Å–∫–æ–≤.

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –û—á–∫–∏ |
|-----------|------|
| –ï–¥–∏–Ω–∏—Ü—ã ‚Ä¶ –®–µ—Å—Ç—ë—Ä–∫–∏ | —Å—É–º–º–∞ –¥–∞–Ω–Ω–æ–π –≥—Ä–∞–Ω–∏ |
| –¢—Ä–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö | —Å—É–º–º–∞ –≤—Å–µ—Ö –∫—É–±–∏–∫–æ–≤ |
| –ß–µ—Ç—ã—Ä–µ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö | —Å—É–º–º–∞ –≤—Å–µ—Ö –∫—É–±–∏–∫–æ–≤ |
| –§—É–ª–ª-—Ö–∞—É—Å | 25 |
| –ú–∞–ª–∞—è —É–ª–∏—Ü–∞ | 30 |
| –ë–æ–ª—å—à–∞—è —É–ª–∏—Ü–∞ | 40 |
| –Ø—Ü–∑–∏ (5 –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö) | 50 |
| –®–∞–Ω—Å | —Å—É–º–º–∞ –≤—Å–µ—Ö –∫—É–±–∏–∫–æ–≤ |
| **–ë–æ–Ω—É—Å** (–≤–µ—Ä—Ö–Ω—è—è ‚â• 63) | **+35** |

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
yatzy-app/
‚îú‚îÄ‚îÄ client/              # React + Vite Frontend
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/  # Die, ScoreCard, GameBoard, Lobby, GameOver
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/       # useSocket, useTelegram
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/       # game.ts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/       # yatzy.ts (score calc)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.tsx
‚îÇ   ‚îî‚îÄ‚îÄ index.html       # Telegram Web App SDK –ø–æ–¥–∫–ª—é—á—ë–Ω –∑–¥–µ—Å—å
‚îÇ
‚îî‚îÄ‚îÄ server/              # Node.js + Express + Socket.io Backend
    ‚îî‚îÄ‚îÄ src/
        ‚îú‚îÄ‚îÄ game/
        ‚îÇ   ‚îî‚îÄ‚îÄ yatzyLogic.ts
        ‚îú‚îÄ‚îÄ index.ts     # Socket events, room management
        ‚îî‚îÄ‚îÄ types.ts
```

## Socket API

| –°–æ–±—ã—Ç–∏–µ (client ‚Üí server) | –î–∞–Ω–Ω—ã–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------------------------|--------|----------|
| `create_room` | `{ name }` | –°–æ–∑–¥–∞—Ç—å –∫–æ–º–Ω–∞—Ç—É |
| `join_room` | `{ code, name }` | –í–æ–π—Ç–∏ –≤ –∫–æ–º–Ω–∞—Ç—É |
| `roll_dice` | ‚Äî | –ë—Ä–æ—Å–∏—Ç—å –∫—É–±–∏–∫–∏ |
| `toggle_hold` | `{ index }` | –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å/—Å–Ω—è—Ç—å –∫—É–±–∏–∫ |
| `score_category` | `{ category }` | –ó–∞–ø–∏—Å–∞—Ç—å –æ—á–∫–∏ |
| `rematch` | ‚Äî | –†–µ–≤–∞–Ω—à |

| –°–æ–±—ã—Ç–∏–µ (server ‚Üí client) | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------------------|----------|
| `room_created` | –ö–æ–º–Ω–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∞, –∫–æ–¥ |
| `game_started` | –í—Ç–æ—Ä–æ–π –∏–≥—Ä–æ–∫ –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è |
| `game_state` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏–≥—Ä—ã |
| `game_over` | –ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞, –ø–æ–±–µ–¥–∏—Ç–µ–ª—å |
| `player_disconnected` | –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ –æ—Ç–∫–ª—é—á–∏–ª—Å—è |
| `error` | –û—à–∏–±–∫–∞ |
